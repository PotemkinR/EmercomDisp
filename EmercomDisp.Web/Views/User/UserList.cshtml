@model EmercomDisp.Web.Models.Users.UserListModel

@{
    ViewBag.Title = "UserList";
}

<div class="panel" style="width:100%">
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    <table class="table table-striped table-hover table-responsive table-condensed">
        <tr>
            <th>
                <h3 style="font-size:x-large"><span style="font-weight:bolder">Username</span></h3>
            </th>
            <th>
                <h3 style="font-size:x-large"><span style="font-weight:bolder">Email</span></h3>
            </th>
            <th></th>
            <th></th>
        </tr>

        @foreach (var user in Model.Users)
        {
            <tr>
                <td class="col-lg-2">
                    <span style="font-size: 17px;">@Html.DisplayFor(model => user.Name)</span>
                </td>
                <td class="col-lg-2">
                    <span style="font-size: 17px;">@Html.DisplayFor(model => user.Email)</span>
                </td>
                <td class="col-lg-3">
                    @if (HttpContext.Current.User.Identity.Name != user.Name)
                    {
                    <button type="button" class="btn btn-warning col-lg-3" onclick="location.href='@Url.Action("EditUser", "User", new { name = user.Name })';return false;"><span class="btn-span glyphicon glyphicon-pencil"></span></button>

                    <button type="button" class="btn btn-danger col-lg-3 col-lg-offset-1" onclick="location.href='@Url.Action("DeleteUser", "User", new { name = user.Name })' ;return false;"><span class="btn-span glyphicon glyphicon-trash"></span></button>
                    }
                </td>
            </tr>
        }
    </table>
</div>
<button type="button" class="btn btn-default col-lg-3" onclick="location.href='@Url.Action("CreateUser", "User")';return false;"><span class="btn-span"></span>New User</button>