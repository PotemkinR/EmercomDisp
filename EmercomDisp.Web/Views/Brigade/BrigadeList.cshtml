@model EmercomDisp.Web.Models.Brigades.BrigadeListModel

@{
    ViewBag.Title = "BrigadeList";
}

<h2>Brigade List</h2>
<table class="table table-condensed">
    <tr>
        <th>
            Name
        </th>
        <th></th>
    </tr>
    @foreach (var brigade in Model.Brigades)
    {
    <tr class="brigade">
        <td class="col-lg-2">
            @Html.DisplayFor(model => brigade.BrigadeName)
        </td>
        <td>
            @Html.ActionLink("Edit", "EditBrigade", "Brigade", new { id = brigade.Id }, null) |
            @Html.ActionLink("Delete", "DeleteBrigade", "Brigade", new { id = brigade.Id }, null)
        </td>
    </tr>
        <tr class="collapse">
            <td>
                <ul>
                    @foreach (var brigadeMember in brigade.Members)
                    {
                        <li>@brigadeMember.Name</li>
                    }
                </ul>
            </td>
            <td></td>
        </tr>
    }
</table>
<button type="button" class="btn btn-default col-lg-12" onclick="location.href='@Url.Action("CreateBrigade", "Brigade")';return false;"><span class="btn-span"></span>Create Brigade</button>
@Html.ActionLink("Brigade Members List", "BrigadeMembersList", "Brigade")
@section Scripts
{
    <script src="~/Scripts/BrigadeToggle.js"></script>
}